<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JS,读书笔记," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="第一部分  类型和语法">
<meta property="og:type" content="article">
<meta property="og:title" content="你不知道的JavaScript（中）读书笔记">
<meta property="og:url" content="https://sellenite.github.io/2019/01/13/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%AD%EF%BC%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="yuuhei&#39;s Home">
<meta property="og:description" content="第一部分  类型和语法">
<meta property="og:locale">
<meta property="article:published_time" content="2019-01-13T05:24:10.000Z">
<meta property="article:modified_time" content="2023-09-12T10:53:32.131Z">
<meta property="article:author" content="Sellenite">
<meta property="article:tag" content="JS">
<meta property="article:tag" content="读书笔记">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sellenite.github.io/2019/01/13/你不知道的JavaScript（中）读书笔记/"/>





  <title> 你不知道的JavaScript（中）读书笔记 | yuuhei's Home </title>
<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">yuuhei's Home</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://sellenite.github.io/2019/01/13/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%AD%EF%BC%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://puu.sh/uoJbK/033c9ae781.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="yuuhei's Home">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                你不知道的JavaScript（中）读书笔记
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-13T13:24:10+08:00">
                2019-01-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a class="cloud-tie-join-count" href="/2019/01/13/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%AD%EF%BC%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count join-count" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="第一部分-类型和语法"><a href="#第一部分-类型和语法" class="headerlink" title="第一部分  类型和语法"></a>第一部分  类型和语法</h3><span id="more"></span>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 你不知道的JavaScript(中卷) 第一部分 类型和语法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">let</span> b = &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;yuuhei&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> c = [<span class="number">1</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> a, <span class="keyword">typeof</span> b, <span class="keyword">typeof</span> c);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 复合条件检测null */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="literal">null</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(!a &amp;&amp; <span class="keyword">typeof</span> a === <span class="string">&#x27;object&#x27;</span>); <span class="comment">// true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 函数对象的length是声明参数的个数 */</span></span><br><span class="line">    <span class="keyword">let</span> foo = <span class="keyword">function</span> (<span class="params">a, b, c</span>) &#123; &#125;;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">length</span>); <span class="comment">// 3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 声明了还没赋值属于undefined */</span></span><br><span class="line">    <span class="comment">/* 还没声明属于undeclared（javascript还是会打印undefined） */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* typeof一个var声明了但未定义值的话会打印undefined */</span></span><br><span class="line">    <span class="comment">/* typeof一个完全没有声明及定义值的话同样也会打印undefined */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable constant_">IIFE</span> = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">/* typeof判断当前作用域变量是否被定义 */</span></span><br><span class="line">    <span class="keyword">let</span> helper = (<span class="keyword">typeof</span> <span class="variable constant_">IIFE</span> !== <span class="string">&#x27;undefined&#x27;</span>) ?</span><br><span class="line">        <span class="variable constant_">IIFE</span> :</span><br><span class="line">        <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">/* somethings */</span></span><br><span class="line">        &#125;;</span><br><span class="line">    <span class="comment">/* 使用typeof来检查变量是首选的选择 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(helper); <span class="comment">// 2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 用依赖注入设计模式来验证当前作用域变量是否被定义 */</span></span><br><span class="line">    <span class="keyword">let</span> helper = <span class="keyword">function</span> (<span class="params">IIFE</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> helper2 = <span class="variable constant_">IIFE</span> || <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">/* somethings */</span></span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 创建稀疏数组，空白的地方会被显式赋值为undefined */</span></span><br><span class="line">    <span class="keyword">let</span> arr = [];</span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    arr[<span class="number">4</span>] = <span class="number">4</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="property">length</span>); <span class="comment">// 5</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 数组也是对象，可以包含字符串键值和属性，但不计入于数组的长度 */</span></span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">    arr[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;yuuhei&#x27;</span>;</span><br><span class="line">    arr[<span class="string">&#x27;age&#x27;</span>] = <span class="number">23</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr, arr.<span class="property">length</span>); <span class="comment">// 3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 注意，如果字符串键值能够转换为十进制数字，会被当作数字索引处理 */</span></span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">    arr[<span class="string">&#x27;5&#x27;</span>] = <span class="number">100</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 类数组及数组副本建立 */</span></span><br><span class="line">    <span class="comment">// 类数组转换</span></span><br><span class="line">    <span class="keyword">let</span> foo = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> arr = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">foo</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 数组副本</span></span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">    <span class="keyword">let</span> arrCopy = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(arr);</span><br><span class="line">    arr.<span class="title function_">push</span>(<span class="number">100</span>);</span><br><span class="line">    arrCopy.<span class="title function_">push</span>(<span class="number">200</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr, arrCopy);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ES6的Array.from也能够建立副本</span></span><br><span class="line">    <span class="keyword">let</span> arr2 = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">let</span> arrCopy2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(arr2);</span><br><span class="line">    arr2.<span class="title function_">push</span>(<span class="number">100</span>);</span><br><span class="line">    arrCopy2.<span class="title function_">push</span>(<span class="number">200</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr, arrCopy2);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 访问字符串某个下标应该用.charAt()，老版本IE不允许string[index]这样访问 */</span></span><br><span class="line">    <span class="comment">/* 以上只能够进行字符串访问，无法进行字符串修改 */</span></span><br><span class="line">    <span class="keyword">let</span> string = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(string[<span class="number">0</span>]);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(string.<span class="title function_">charAt</span>(<span class="number">2</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 数字值可用指数表示 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">5E10</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">42.59</span>;</span><br><span class="line">    <span class="comment">/* .toFixed()用于指定小数显示多少个 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">toFixed</span>(<span class="number">4</span>));</span><br><span class="line">    <span class="comment">/* .toPrecision()用于指定多少个有效数位 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">toPrecision</span>(<span class="number">5</span>));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* ES6，严格模式不再支持0开头的八进制数 */</span></span><br><span class="line">    <span class="comment">// let a = 0363;</span></span><br><span class="line">    <span class="comment">// console.log(a);  SyntaxError</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ES6和严格模式下的八进制是用0o前缀表示 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">0o363</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 243</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 注意0.1+0.2不等于0.3，存在精度问题 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">0.3</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a === b); <span class="comment">// false</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* NaN不与NaN相等，typeof NaN的值为&#x27;number&#x27; */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">NaN</span>); <span class="comment">// number</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> === <span class="title class_">NaN</span>); <span class="comment">// false</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* window有一个全局方法isNaN()，但这个有bug，会将NaN和字符串也会判断为true */</span></span><br><span class="line">    <span class="comment">/* ES6的Number.isNaN()修复了这个问题，他会先用typeof判断为number再执行此方法</span></span><br><span class="line"><span class="comment">    （上面提到typeof NaN返回的是&#x27;number&#x27;） */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">10</span> / <span class="string">&#x27;foo&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="built_in">isNaN</span>(a)); <span class="comment">// true, bug</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="built_in">isNaN</span>(b)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(a)); <span class="comment">// false，修复了</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(b)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 判断是否NaN的更简单方法 */</span></span><br><span class="line">    <span class="keyword">let</span> <span class="title class_">IsNaN</span> = <span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n !== n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">IsNaN</span>(b)); <span class="comment">// true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 关于-0，0 === -0是true */</span></span><br><span class="line">    <span class="comment">/* 使用JSON.stringify()进行数字转为字符串，-号消失；字符串转为数字，-号保留 */</span></span><br><span class="line">    <span class="comment">/* JSON.stringify(-0) 返回&quot;0&quot;，而JSON.parse(&quot;-0&quot;) 返回-0 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> === -<span class="number">0</span>); <span class="comment">// true</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(-<span class="number">0</span>), <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="string">&#x27;-0&#x27;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 判断是否为负0的方法 */</span></span><br><span class="line">    <span class="keyword">let</span> isMinZero = <span class="keyword">function</span> (<span class="params">n</span>) &#123;</span><br><span class="line">        n = <span class="title class_">Number</span>(n);</span><br><span class="line">        <span class="keyword">return</span> (n === <span class="number">0</span>) &amp;&amp; (<span class="number">1</span> / n === -<span class="title class_">Infinity</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isMinZero</span>(-<span class="number">0</span>)); <span class="comment">// true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 原生函数 */</span></span><br><span class="line">    <span class="comment">// String()</span></span><br><span class="line">    <span class="comment">// Number()</span></span><br><span class="line">    <span class="comment">// Object()</span></span><br><span class="line">    <span class="comment">// Array()</span></span><br><span class="line">    <span class="comment">// Boolean()</span></span><br><span class="line">    <span class="comment">// Function()</span></span><br><span class="line">    <span class="comment">// RegExp()</span></span><br><span class="line">    <span class="comment">// Error()</span></span><br><span class="line">    <span class="comment">// Date()</span></span><br><span class="line">    <span class="comment">// Symbol()</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* typeof new String(&#x27;123&#x27;)会返回object */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// String &#123;&quot;Hello&quot;&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 使用String.prototype.toString()能够返回string字符串 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">toString</span>()); <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(a)); <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 与本身构造函数的valueOf()功能相同 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">valueOf</span>()); <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">valueOf</span>.<span class="title function_">call</span>(a)); <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Object.prototype是不同的 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(a)); <span class="comment">// [object String]</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">valueOf</span>.<span class="title function_">call</span>(a)); <span class="comment">// String &#123;&quot;Hello&quot;&#125;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 查看一个内部属性[[class]]使用Object.prototype.toString.call() */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(a)); <span class="comment">// [object Boolean]</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 想要得到封装对象的基本类型值，可以使用valueOf()函数 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">valueOf</span>());</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 隐式拆封 */</span></span><br><span class="line">    <span class="keyword">let</span> b = a + <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 尝试对一个new String/Boolean/Number进行隐式访问，会造成强制类型转换</span></span><br><span class="line"><span class="comment">       会访问对应的构造函数原型链上的valueOf方法 */</span></span><br><span class="line">    <span class="keyword">let</span> string = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;string1&#x27;</span>);</span><br><span class="line">    <span class="comment">// 隐式访问，实际是调用返回了String.prototype.valueOf的值，强制类型转换</span></span><br><span class="line">    <span class="keyword">if</span> (string.<span class="title function_">indexOf</span>(<span class="number">1</span>) !== -<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;new String direct read&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 当使用表达式+时，其中一个操作数是string（包含强制转换结果），</span></span><br><span class="line"><span class="comment">       则执行字符串拼接，否则执行数字加法 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([] + <span class="number">1</span>); <span class="comment">// []被强制执行.toString，得到空字符，结果为&quot;1&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;4&quot;</span> + <span class="number">1</span>); <span class="comment">// 41</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 当new Array的时候只传入一个数，</span></span><br><span class="line"><span class="comment">       执行的是创建一个数组，长度为10，且全为空单元（非undefined）填充 */</span></span><br><span class="line">    <span class="comment">/* 空单元和undefined是有区别的，注意 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="title class_">Array</span>(<span class="number">10</span>); <span class="comment">// new可以省略，js会自动补加</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, a.<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 清空一个数组可以使用array.length = 0 */</span></span><br><span class="line">    <span class="keyword">let</span> b = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>];</span><br><span class="line">    b.<span class="property">length</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 创建一个全是undefined（非空单元）填充的数组 */</span></span><br><span class="line">    <span class="comment">/* array.length这样强行修改会用空单元填充多余的空位 */</span></span><br><span class="line">    <span class="keyword">let</span> c = <span class="title class_">Array</span>.<span class="title function_">apply</span>(<span class="literal">null</span>, &#123; <span class="attr">length</span>: <span class="number">3</span> &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c); <span class="comment">// [undefined, undefined, undefined]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 永远不要创建和使用空单元数组 */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// String.prototype的各类方法，不修改原字符串</span></span><br><span class="line">    <span class="comment">// String#.indexOf</span></span><br><span class="line">    <span class="comment">// String#.charAt</span></span><br><span class="line">    <span class="comment">// String#.substr String#.substring String#.slice()</span></span><br><span class="line">    <span class="comment">// String#.toUpperCase String#.toLowerCase()</span></span><br><span class="line">    <span class="comment">// String#.trim</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* Symbol使用原生构造函数来定义，不用加new */</span></span><br><span class="line">    <span class="keyword">let</span> myown = <span class="title class_">Symbol</span>(<span class="string">&#x27;deleteSomething&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line">    obj[<span class="title class_">Symbol</span>(<span class="string">&#x27;deleteSomething&#x27;</span>)] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">/* doSomething */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(obj));</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 具有唯一性，很多开发喜欢使用这个用于私有属性代替_function */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* JSON.stringify()在遇到undefined，function，symbol这三个不安全值时，</span></span><br><span class="line"><span class="comment">       在对象会将其自动忽略，在数组中返回null，在一般调用会返回undefined */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="literal">undefined</span>)); <span class="comment">// undefined</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;)); <span class="comment">// undefined</span></span><br><span class="line">    <span class="comment">// &quot;&#123;&quot;a&quot;: 2&#125;&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125; &#125;));</span><br><span class="line">    <span class="comment">// &quot;[&quot;yuuhei&quot;, null, null, 4]&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>([<span class="string">&#x27;yuuhei&#x27;</span>, <span class="literal">undefined</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;, <span class="number">4</span>]));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* JSON.stringify有一个很实用的replacer，可以对数据进行筛选处理 */</span></span><br><span class="line">    <span class="comment">// 可以是数组或函数</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">b</span>: <span class="string">&quot;22&quot;</span>,</span><br><span class="line">        <span class="attr">c</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// replacer为数组时的作用</span></span><br><span class="line">    <span class="keyword">let</span> json1 = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj, [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>]); <span class="comment">// 只序列化key值为a和b的</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(json1); <span class="comment">// &quot;&#123;&quot;a&quot;:2,&quot;b&quot;:&quot;22&quot;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// replacer为function时的作用</span></span><br><span class="line">    <span class="keyword">let</span> json2 = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj, <span class="keyword">function</span> (<span class="params">key, value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key !== <span class="string">&quot;a&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> value;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(json2); <span class="comment">// &quot;&#123;&quot;b&quot;:&quot;22&quot;,&quot;c&quot;:[1,2,3]&#125;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第三个参数space，还可以调缩进，自动进行格式化，还可以是填充字符串</span></span><br><span class="line">    <span class="keyword">let</span> json3 = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj, <span class="literal">null</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(json3);</span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//    &quot;a&quot;: 2,</span></span><br><span class="line">    <span class="comment">//    &quot;b&quot;: &quot;22&quot;,</span></span><br><span class="line">    <span class="comment">//    &quot;c&quot;: [</span></span><br><span class="line">    <span class="comment">//        1,</span></span><br><span class="line">    <span class="comment">//        2,</span></span><br><span class="line">    <span class="comment">//        3</span></span><br><span class="line">    <span class="comment">//    ]</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 以下布尔假植在强制转换的时候结果都为false，强制转换是!! */</span></span><br><span class="line">    <span class="comment">// undefined, null, fasle, +0, -0, NaN, &quot;&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(!!<span class="literal">undefined</span> || !!<span class="literal">null</span> || !!<span class="literal">false</span> || !!<span class="number">0</span> || !!<span class="title class_">NaN</span> || !!<span class="string">&quot;&quot;</span>); <span class="comment">// false</span></span><br><span class="line">    <span class="comment">// document.all在某些IE和某些浏览器是为真值，在某些浏览器下为假值，是一个类数组</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 假值之外都是真值，转换后都为true */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 显式强制类型转换 */</span></span><br><span class="line">    <span class="comment">// 字符串和数字之间的显式转换，不要使用new，并不是创建对象</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">22</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="string">&quot;3.14&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> c = <span class="title class_">String</span>(a);</span><br><span class="line">    <span class="keyword">let</span> d = <span class="title class_">Number</span>(b);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c, d); <span class="comment">// &quot;22&quot;, 3.14</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 另一种方法的显式转换</span></span><br><span class="line">    <span class="keyword">let</span> e = a.<span class="title function_">toString</span>(); <span class="comment">// 调用的是Number.prototype.toString</span></span><br><span class="line">    <span class="keyword">let</span> f = +b;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e, f); <span class="comment">// &quot;22&quot;, 3.14</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 日期显示转换为数字（相当于.getTime()功能）</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(+a, a.<span class="title function_">getTime</span>());</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当实例化一个构造函数的时候如果没有参数传入，可以不加()</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(+<span class="keyword">new</span> <span class="title class_">Date</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ES5的Date有一个获取当前时间戳的API，其polyfill就是+new Date()</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>());</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* parseInt的使用 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Number()针对的是字符串，要求所有字符都是数字，否则返回NaN</span></span><br><span class="line">    <span class="comment">// parseInt()可以忽略不是数字字符的字符串，遇到非数字字符则停止转换，若第一个不是数字则返回NaN</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="string">&#x27;12aa45&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="string">&#x27;456&#x27;</span>;</span><br><span class="line">    <span class="keyword">let</span> c = <span class="string">&#x27;aa123456&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(a), <span class="title class_">Number</span>(a)); <span class="comment">// 12, NaN</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(b), <span class="title class_">Number</span>(b)); <span class="comment">// 12, 456</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(c), <span class="title class_">Number</span>(c)); <span class="comment">// NaN, NaN</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* parseInt的第二个参数转制问题，将当前数值定义为自定义进制，不用加前缀</span></span><br><span class="line"><span class="comment">       然后转换为数字，所有都会被转为十进制 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果需要在ES5之前的环境运行并且没有polyfill，需要手动加上第二个参数10</span></span><br><span class="line">    <span class="comment">// 强制转换为十进制，不然会被转为八进制，避免不必要的坑</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> a = <span class="string">&quot;100&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">256</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(a, <span class="number">16</span>)); <span class="comment">// 256</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(a, <span class="number">8</span>)); <span class="comment">// 64</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(a, <span class="number">2</span>)); <span class="comment">// 4</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(a, <span class="number">10</span>)); <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* toString()传入参数，可以将当前数值转换为指定进制 */</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b.<span class="title function_">toString</span>(<span class="number">16</span>)); <span class="comment">// 100</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 自定义转换 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 十进制数值转为自定义进制：</span></span><br><span class="line">    <span class="keyword">let</span> decimalToOther = <span class="keyword">function</span> (<span class="params">num, transform</span>) &#123;</span><br><span class="line">        <span class="comment">/* 返回的是字符串，用于展示 */</span></span><br><span class="line">        <span class="keyword">var</span> num = +num;</span><br><span class="line">        <span class="keyword">var</span> transform = +transform;</span><br><span class="line">        <span class="keyword">if</span> (transform === <span class="number">16</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;0x&#x27;</span> + num.<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (transform === <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;0o&#x27;</span> + num.<span class="title function_">toString</span>(<span class="number">8</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> num.<span class="title function_">toString</span>(transform);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">decimalToOther</span>(<span class="number">100</span>, <span class="number">8</span>)); <span class="comment">// &quot;0o144&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 其他转制转换为十进制（传入标准格式0X或0o等字符串格式）：</span></span><br><span class="line">    <span class="keyword">let</span> otherToDecimal = <span class="keyword">function</span> (<span class="params">num</span>) &#123;</span><br><span class="line">        <span class="comment">/* 返回数字 */</span></span><br><span class="line">        <span class="keyword">var</span> num = num.<span class="title function_">toLowerCase</span>();</span><br><span class="line">        <span class="keyword">if</span> (num.<span class="title function_">indexOf</span>(<span class="string">&#x27;0x&#x27;</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">parseInt</span>(num.<span class="title function_">replace</span>(<span class="regexp">/0x/</span>, <span class="string">&#x27;&#x27;</span>), <span class="number">16</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num.<span class="title function_">indexOf</span>(<span class="string">&#x27;0o&#x27;</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">parseInt</span>(num.<span class="title function_">replace</span>(<span class="regexp">/0o/</span>, <span class="string">&#x27;&#x27;</span>), <span class="number">8</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">parseInt</span>(num, <span class="number">10</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">otherToDecimal</span>(<span class="string">&#x27;0x100&#x27;</span>)); <span class="comment">// 256</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* boolean显示转换，建议使用!!用来转换 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="string">&quot;asd&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> b = [];</span><br><span class="line">    <span class="keyword">let</span> c = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 注意空数组和空对象都是返回true。是真值，所有的假值上面有提到</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(a)); <span class="comment">// true</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(!!b); <span class="comment">// true</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(!!c); <span class="comment">//true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">2</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;, <span class="number">4</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;];</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> json = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(arr, <span class="keyword">function</span> (<span class="params">key, value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(json); <span class="comment">// [2,true,4,true]</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* || 或 &amp;&amp; 返回的不一定是布尔值 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对于||，如果当前值判断为true，就会返回当前值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">false</span> || <span class="string">&quot;ss&quot;</span> || <span class="number">110</span>); <span class="comment">// &quot;ss&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 对于&amp;&amp;，只要有一个值判断为false，就返回判断为false的那个值，</span></span><br><span class="line">    <span class="comment">// 否则返回最后一个值</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;55&quot;</span> &amp;&amp; <span class="literal">undefined</span> &amp;&amp; <span class="number">110</span>); <span class="comment">// undefined</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;55&quot;</span> &amp;&amp; <span class="literal">null</span> &amp;&amp; <span class="number">110</span>); <span class="comment">// null</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;55&quot;</span> &amp;&amp; <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125; &amp;&amp; <span class="number">110</span>); <span class="comment">// 110</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 所以||会有一个常用作用：传参判断</span></span><br><span class="line">    <span class="keyword">let</span> func = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">        a = a || <span class="string">&#x27;Hello&#x27;</span>;</span><br><span class="line">        b = b || <span class="string">&#x27;World&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> a + <span class="string">&quot; &quot;</span> + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">func</span>(<span class="string">&#x27;Hi&#x27;</span>)); <span class="comment">// Hi World</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">func</span>(<span class="string">&#x27;Hi&#x27;</span>, <span class="string">&quot;&quot;</span>)); <span class="comment">// 注意这里传入了假值，结果依然是Hi World</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">func</span>(<span class="string">&#x27;Hi&#x27;</span>, <span class="string">&quot; &quot;</span>).<span class="title function_">trim</span>()); <span class="comment">// 传入空字符则判断为true，返回Hi</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="string">&quot;&quot;</span>) <span class="comment">// string，如有需求可以通过这个进行容错</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 所以&amp;&amp;会有一个常用作用：判断参数是否为true，是则执行一个函数</span></span><br><span class="line">    <span class="literal">true</span> &amp;&amp; (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;this is &amp;&amp; function!&#x27;</span>);</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 注意ES6的Symbol只能够通过显式转换为字符串，使用隐式将会报错 */</span></span><br><span class="line">    <span class="keyword">let</span> symbol = <span class="title class_">Symbol</span>(<span class="string">&#x27;symbolElement&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(symbol)); <span class="comment">// &quot;Symbol(symbolElement)&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// symbol + &quot;&quot; 这样隐式转换会报错</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Symbol无法转换为数字，显示和隐式都会出错</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Symbol可以转换为boolean，隐式显式都转换为true</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(symbol)); <span class="comment">// true</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(!!symbol); <span class="comment">// true</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 关于==和===的使用准则 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当两边有值为true和false的时候，前往不要使用==</span></span><br><span class="line">    <span class="comment">// 当两边有值为[]，&quot;&quot;，0时，尽量不要使用==</span></span><br><span class="line">    <span class="comment">// 使用===是最安全的选择</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* ++表达式 */</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">43</span>;</span><br><span class="line">    <span class="keyword">let</span> b = (a++ , a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 正确将44赋值给b</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* ES6的参数预留值可以理解为使用了let，存在暂时性死区TDZ */</span></span><br><span class="line">    <span class="comment">// 下面声明赋值b的时候，同时进行了访问，这样在ES6有些情况会报错</span></span><br><span class="line">    <span class="keyword">let</span> testTDZ = <span class="keyword">function</span> (<span class="params">a = <span class="number">3</span>, b = a + b + <span class="number">3</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b); <span class="comment">// 不报错就输出NaN</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// testTDZ();</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 宿主变量 */</span></span><br><span class="line">    <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> div); <span class="comment">// object</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(div)); <span class="comment">// [object HTMLDivElement]</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(div.<span class="property">tagName</span>); <span class="comment">// DIV</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* 由于浏览器历史遗留问题，在创建带有id 属性的DOM 元素时也会创建同名的全局变量 */</span></span><br><span class="line">    <span class="comment">// &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(app); <span class="comment">// 一个元素的id为app写在html，window全局对象就带有这个属性</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="第二部分-异步和性能"><a href="#第二部分-异步和性能" class="headerlink" title="第二部分  异步和性能"></a>第二部分  异步和性能</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 你不知道的JavaScript(中卷) 第二部分 异步和性能</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 模拟promise请求</span></span><br><span class="line"><span class="keyword">const</span> promiseRequest = <span class="keyword">function</span>(<span class="params">success, delay</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (success) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">typeof</span> success === <span class="string">&#x27;boolean&#x27;</span>) &#123;</span><br><span class="line">                    <span class="title function_">resolve</span>(<span class="string">&#x27;promise success&#x27;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="title function_">resolve</span>(success);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">reject</span>(<span class="string">&#x27;promise error&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 支持Promise的Generator Runner</span></span><br><span class="line"><span class="keyword">const</span> run = <span class="keyword">function</span>(<span class="params">gen</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> args = [].<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>, <span class="number">1</span>), it;</span><br><span class="line">    <span class="comment">// 在当前上下文中初始化生成器</span></span><br><span class="line">    it = gen.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args);</span><br><span class="line">    <span class="comment">// 返回一个promise用于生成器完成</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="keyword">function</span> <span class="title function_">handleNext</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="comment">// 对下一个yield出的值运行</span></span><br><span class="line">        <span class="keyword">let</span> next = it.<span class="title function_">next</span>(value);</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">function</span> <span class="title function_">handleResult</span>(<span class="params">next</span>) &#123;</span><br><span class="line">            <span class="comment">// 生成器运行完毕了吗？</span></span><br><span class="line">            <span class="keyword">if</span> (next.<span class="property">done</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> next.<span class="property">value</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 否则继续运行</span></span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(next.<span class="property">value</span>).<span class="title function_">then</span>(</span><br><span class="line">                    <span class="comment">// 成功就恢复异步循环，把决议的值发回生成器</span></span><br><span class="line">                    handleNext,</span><br><span class="line">                    <span class="comment">// 如果value是被拒绝的 promise，</span></span><br><span class="line">                    <span class="comment">// 就把错误传回生成器进行出错处理</span></span><br><span class="line">                    <span class="keyword">function</span> <span class="title function_">handleErr</span>(<span class="params">err</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(</span><br><span class="line">                            it.<span class="keyword">throw</span>(err)</span><br><span class="line">                        ).<span class="title function_">then</span>(handleResult);</span><br><span class="line">                    &#125;</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)(next);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 分时函数，每次计时器处理一段数据，避免一次处理过多数据</span></span><br><span class="line">    <span class="keyword">const</span> timeChunk = <span class="keyword">function</span>(<span class="params">array = [], fn = () =&gt; &#123; &#125;, count = <span class="number">1</span>, interval = <span class="number">200</span></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> obj, timer;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> start = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="title class_">Math</span>.<span class="title function_">min</span>(count, array.<span class="property">length</span>); i++) &#123;</span><br><span class="line">                obj = array.<span class="title function_">shift</span>();</span><br><span class="line">                <span class="title function_">fn</span>(obj);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (array.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="title function_">start</span>();</span><br><span class="line">            &#125;, interval);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> dataArray = [];</span><br><span class="line">    <span class="keyword">let</span> resultArray = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        dataArray.<span class="title function_">push</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 每1秒处理2个item</span></span><br><span class="line">    <span class="keyword">const</span> timeChunkFn = <span class="title function_">timeChunk</span>(dataArray, <span class="keyword">function</span>(<span class="params">item</span>) &#123;</span><br><span class="line">        resultArray.<span class="title function_">push</span>(item * <span class="number">2</span>);</span><br><span class="line">    &#125;, <span class="number">2</span>, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">timeChunkFn</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 延时的报错不会被catch到，只有同步的代码或生成器（类似于async）的才能catch到</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// throw undefined</span></span><br><span class="line">        &#125;, <span class="number">100</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="comment">// 延时抛错永远不会被catch到，不会执行以下代码</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// generator</span></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">const</span> foo = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        a++;</span><br><span class="line">        <span class="keyword">yield</span>; <span class="comment">// 暂停</span></span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> iterator = <span class="title function_">foo</span>();</span><br><span class="line"></span><br><span class="line">    iterator.<span class="title function_">next</span>();</span><br><span class="line">    <span class="keyword">let</span> res = iterator.<span class="title function_">next</span>();</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res); <span class="comment">// value, done</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> bar = <span class="keyword">function</span>* (num) &#123;</span><br><span class="line">        <span class="comment">// 遇到yield表达式时，会暂停在赋值语句中间，并本质要求提供一个值</span></span><br><span class="line">        <span class="comment">// 可以不设定预留值，即(yield)，不设定时默认返回的value是undefined</span></span><br><span class="line">        <span class="keyword">let</span> result = num * (<span class="keyword">yield</span> <span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> iterator2 = <span class="title function_">bar</span>(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">let</span> res21 = iterator2.<span class="title function_">next</span>(); <span class="comment">// 函数停在yield表达式的中间，并把yield后的内容暂时作为value值</span></span><br><span class="line">    <span class="keyword">let</span> res22 = iterator2.<span class="title function_">next</span>(<span class="number">7</span>); <span class="comment">// 传值，赋值语句继续执行</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res21, res22); <span class="comment">// value: Hello, value: 70</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 仿标准迭代器iterator接口的写法</span></span><br><span class="line">    <span class="keyword">const</span> iterator = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> nextval;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="comment">// for..of循环需要</span></span><br><span class="line">            [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">next</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nextval === <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    nextval = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    nextval = (<span class="number">3</span> * nextval) + <span class="number">6</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">done</span>: <span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">value</span>: nextval</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> iterator) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(v);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (v &gt; <span class="number">500</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 使用标准生成器generator，执行后就成为iterator</span></span><br><span class="line">    <span class="comment">// iterator有next，throw和return这三个方法</span></span><br><span class="line">    <span class="keyword">const</span> generator = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> nextval;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nextval === <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    nextval = <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    nextval = (<span class="number">3</span> * nextval) + <span class="number">6</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">yield</span> nextval;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Clean up&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> <span class="title function_">generator</span>()) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(v);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (v &gt; <span class="number">500</span>) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 异步迭代生成器普通版</span></span><br><span class="line">    <span class="keyword">const</span> callbackRequest = <span class="keyword">function</span>(<span class="params">success, delay</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 请求前会阻断同步代码，请求后才决定iterator的返回</span></span><br><span class="line">            <span class="keyword">if</span> (success) &#123;</span><br><span class="line">                it.<span class="title function_">next</span>(<span class="string">&#x27;callback success&#x27;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                it.<span class="keyword">throw</span>(<span class="string">&#x27;callback error&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 看起来很像async-await</span></span><br><span class="line">    <span class="keyword">const</span> main = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="comment">// try-catch本来是无法捕获异步错误的，这里是属于同步代码，迭代器暂停</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> result = <span class="keyword">yield</span> <span class="title function_">callbackRequest</span>(<span class="literal">true</span>, <span class="number">1000</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> it = <span class="title function_">main</span>();</span><br><span class="line">    it.<span class="title function_">next</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 异步迭代生成器配合Promise版</span></span><br><span class="line">    <span class="keyword">const</span> main = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> result = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">2000</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> it = <span class="title function_">main</span>();</span><br><span class="line">    <span class="comment">// 此时value的值是一个request里返回的promise</span></span><br><span class="line">    <span class="keyword">const</span> promise = it.<span class="title function_">next</span>().<span class="property">value</span>;</span><br><span class="line"></span><br><span class="line">    promise.<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        it.<span class="title function_">next</span>(res);</span><br><span class="line">    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        it.<span class="keyword">throw</span>(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// yield的同步和并行操作比较，根据上个迭代配合promise使用Generator Runner函数</span></span><br><span class="line">    <span class="keyword">const</span> mainStep = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="comment">// 都是同步代码，p3是在6秒后才打印出来</span></span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">2000</span>);</span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(mainStep);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 生成器的Promise并发</span></span><br><span class="line">    <span class="keyword">const</span> mainAll = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="comment">// 这样写的p1和p2是并行的，首先都进行请求，然后再进行yield，所用时间是2s+3s</span></span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p1 yield&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p2 yield&#x27;</span>, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 并行开始，并且两者都完成了才会继续执行p3</span></span><br><span class="line">        <span class="keyword">let</span> r1 = <span class="keyword">yield</span> p1;</span><br><span class="line">        <span class="keyword">let</span> r2 = <span class="keyword">yield</span> p2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">`<span class="subst">$&#123;r1&#125;</span> and <span class="subst">$&#123;r2&#125;</span>`</span>, <span class="number">3000</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(mainAll);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当然也可以使用PromiseAll处理并发，换个方式</span></span><br><span class="line">    <span class="keyword">const</span> mainPromiseAll = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p1 promiseAll yield&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p2 promiseAll yield &#x27;</span>, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> results = <span class="keyword">yield</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> [r1, r2] = results;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">`<span class="subst">$&#123;r1&#125;</span> and <span class="subst">$&#123;r2&#125;</span>`</span>, <span class="number">3000</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(mainPromiseAll);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 使用现有的Async-Await进行上面的操作</span></span><br><span class="line">    <span class="keyword">const</span> mainStep = <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 都是同步代码，p3是在6秒后才打印出来</span></span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">2000</span>);</span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="literal">true</span>, <span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">mainStep</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> mainAll = <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 这样写的p1和p2是并行的，首先都进行请求，然后再进行await，所用时间是2s+3s</span></span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p1 await&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p2 await&#x27;</span>, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 并行开始，并且两者都完成了才会继续执行p3</span></span><br><span class="line">        <span class="keyword">let</span> r1 = <span class="keyword">await</span> p1;</span><br><span class="line">        <span class="keyword">let</span> r2 = <span class="keyword">await</span> p2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="string">`<span class="subst">$&#123;r1&#125;</span> and <span class="subst">$&#123;r2&#125;</span>`</span>, <span class="number">3000</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">mainAll</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当然也可以使用PromiseAll处理并发，换个方式</span></span><br><span class="line">    <span class="keyword">const</span> mainPromiseAll = <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> p1 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p1 promiseAll await&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> p2 = <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p2 promiseAll await &#x27;</span>, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> results = <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> [r1, r2] = results;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> p3 = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="string">`<span class="subst">$&#123;r1&#125;</span> and <span class="subst">$&#123;r2&#125;</span>`</span>, <span class="number">3000</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(p3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">mainPromiseAll</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 这里注意，如果再使用Promise.all时，里面所有的promise进行了返回了catch，那么在Promise.all</span></span><br><span class="line"><span class="comment">     * 里就就算报错了，也会走all的then，而不会走catch，如果想分别报错捕获，就在每个promise里进行</span></span><br><span class="line"><span class="comment">     * catch处理并return出去，如果想只有一个报错就执行all的catch，就不要在里面写catch，注意</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 生成器调用另一个生成器，依旧依赖Generator Runner</span></span><br><span class="line">    <span class="keyword">const</span> foo = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">let</span> r1 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p1 another&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> r2 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">`<span class="subst">$&#123;r1&#125;</span> and p2 another`</span>, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> r2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> bar = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">let</span> r3 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p3&#x27;</span>, <span class="number">100</span>);</span><br><span class="line">        <span class="keyword">let</span> r2 = <span class="keyword">yield</span> <span class="title function_">run</span>(foo);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(r2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(bar);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 生成器调用另一个生成器，但使用yield委托，异步委托</span></span><br><span class="line">    <span class="keyword">const</span> foo = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">let</span> r1 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p1 another&#x27;</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">let</span> r2 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">`<span class="subst">$&#123;r1&#125;</span> and p2 another 委托版`</span>, <span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> r2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> bar = <span class="keyword">function</span>* () &#123;</span><br><span class="line">        <span class="keyword">let</span> r3 = <span class="keyword">yield</span> <span class="title function_">promiseRequest</span>(<span class="string">&#x27;p3&#x27;</span>, <span class="number">100</span>);</span><br><span class="line">        <span class="comment">// 注意这里，使用的是yield*</span></span><br><span class="line">        <span class="keyword">let</span> r2 = <span class="keyword">yield</span>* <span class="title function_">foo</span>();</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(r2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">run</span>(bar);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// await的Promise.all的错误捕获之一，统一在Promise.all中的catch捕获</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">doRequest1</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="literal">false</span>, <span class="number">1000</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">doRequest2</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="string">&#x27;await try-catch-2&#x27;</span>, <span class="number">2000</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// doRequest1报错后接下来的请求都不会再执行，错误提示只提一遍</span></span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">doRequest1</span>(), <span class="title function_">doRequest2</span>()]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// await的Promise.all的错误捕获之二，分别在里面的Promise都进行try-catch处理，Promise.all里的catch就不会再执行</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">doRequest1</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="literal">false</span>, <span class="number">1000</span>);</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">doRequest2</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">promiseRequest</span>(<span class="string">&#x27;await try-catch-2&#x27;</span>, <span class="number">2000</span>);</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// doRequest1报错后接下来的请求也会继续执行，有多少个错误就报多少个错，只要里面每个Promise都进行了错误捕获，然后只会执行then，永远不会执行catch，因为已经捕获过了</span></span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">doRequest1</span>(), <span class="title function_">doRequest2</span>()]).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;do not run here forever&#x27;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JS/" rel="tag"># JS</a>
          
            <a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="tag"># 读书笔记</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/13/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%8A%EF%BC%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="next" title="你不知道的JavaScript（上）读书笔记">
                <i class="fa fa-chevron-left"></i> 你不知道的JavaScript（上）读书笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/13/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84JavaScript%EF%BC%88%E4%B8%8B%EF%BC%89%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" rel="prev" title="你不知道的JavaScript（下）读书笔记">
                你不知道的JavaScript（下）读书笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://puu.sh/uoJbK/033c9ae781.jpg"
               alt="" />
          <p class="site-author-name" itemprop="name"></p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">56</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Sellenite" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AF%AD%E6%B3%95"><span class="nav-number">1.</span> <span class="nav-text">第一部分  类型和语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%BC%82%E6%AD%A5%E5%92%8C%E6%80%A7%E8%83%BD"><span class="nav-number">2.</span> <span class="nav-text">第二部分  异步和性能</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sellenite</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  
    
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "8a77bfe2a58a49a7934da4f4ff1ca715",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
  










  





  

  

  

  

</body>
</html>
